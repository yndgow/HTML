<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://kit.fontawesome.com/e8f010a863.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./css/style.css" />

    <!-- 상품목록 스크립트  -->
    <script>
      $(function () {});
    </script>

    <!-- 상품목록 스타일 -->
    <style>
      main#product-list {
        width: 100%;
        height: auto;
        position: relative;
      }
      main#product-list > .detail-category {
        width: 100%;
        height: 802px;
        position: relative;
      }
      main#product-list .detail-category-img {
        width: 100%;
        filter: brightness(75%);
      }
      main#product-list .detail-category-title {
        position: absolute;
        color: #fff;
        z-index: 1;
        top: 62%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 45px;
      }
      main#product-list .detail-filter {
        display: flex;
        width: 100%;
        line-height: 24px;
        padding: 15px;
        box-sizing: border-box;
        font-size: 12px;
        padding-right: 30px;
      }
      main#product-list .detail-filter > div:nth-child(2) {
        display: flex;
        justify-content: space-between;
        width: 400px;
        margin-left: auto;
      }
      main#product-list > .detail-main {
        width: 100%;
        height: auto;
        display: flex;
        flex-wrap: wrap;
      }
      main#product-list .product-one {
        position: relative;
        width: 20%;
        height: 420px;
        border: 1px solid #eaeaea;
        box-sizing: border-box;
        overflow: hidden;
        cursor: pointer;
      }
      main#product-list .product-one > .slide {
        display: flex;
        position: absolute;
        bottom: 50px;
      }
      main#product-list .product-one p {
        position: absolute;
        line-height: 420px;
        margin: 0;
        cursor: pointer;
        opacity: 0; /* 초기에는 투명하게 설정 */
        visibility: hidden;
        transition: opacity 0.5s ease-in-out, visibility 0.5s ease-in-out; /* opacity와 visibility에 모두 transition을 적용 */
      }

      main#product-list .product-one p.active {
        opacity: 1; /* 투명도를 1로 설정하여 나타나도록 함 */
        visibility: visible; /* 표시 상태로 변경 */
      }

      main#product-list .product-one .btnPrev {
        left: 0px;
        margin-right: 10px;
        margin-left: 10px;
      }

      main#product-list .product-one .btnNext {
        left: 344px;
        margin-right: 10px;
        margin-left: 10px;
      }
      main#product-list .product-one img {
        width: 316px;
        object-fit: contain;
        margin: 0 32px 0 32px;
      }
      main#product-list .slide {
        position: relative;
        left: 0;
        transition: left 0.5s ease-out;
      }
      main#product-list .product-all-btn {
        margin: 20px auto;
        height: 50px;
        width: 100px;
        line-height: 50px;
        text-align: center;
        background-color: black;
        color: #fff;
        font-weight: bold;
        font-size: 12px;
        border-radius: 3px;
        cursor: pointer;
      }
    </style>
    <script>
      $(() => {
        // 상품별 슬라이드 이벤트
        let isClickEnabled = true; // 중복실행을 막기위한 변수
        // 슬라이드 Next
        $('.btnNext').on('click', function (e) {
          e.stopPropagation();
          let curLeft = $(this).siblings('.slide').css('left');

          if (!isClickEnabled) {
            return; // 클릭 이벤트가 비활성화된 경우 함수를 빠져나감
          }

          let pIndex = curLeft.indexOf('p');
          let calLeft = curLeft.substring(0, pIndex);

          if (calLeft == '-1520') {
            $(this).siblings('.slide').css('left', '0');
          } else {
            calLeft = Number(calLeft) - 380;
            $(this)
              .siblings('.slide')
              .css('left', calLeft + 'px');
          }

          isClickEnabled = false;
          setTimeout(function () {
            isClickEnabled = true;
          }, 500);
        });
        // 슬라이드 Prev
        $('.btnPrev').on('click', function (e) {
          e.stopPropagation();
          // 함수의 현재 left 값 가져오기(String 이기 때문에 숫자로 변환해야함)
          let curLeft = $(this).siblings('.slide').css('left');
          let pIndex = curLeft.indexOf('p');
          let calLeft = curLeft.substring(0, pIndex);
          // 클릭 이벤트가 비활성화된 경우 함수를 빠져나감
          if (!isClickEnabled) {
            return;
          }

          // TODO 무한슬라이드
          if (calLeft == 0) {
            // 첫 이미지에서 이전 버튼을 누른 경우 마지막 장으로 이동
            $(this).siblings('.slide').css('left', '-1520px');

            // left 값에서 380만큼 이동
          } else {
            calLeft = Number(calLeft) + 380;
            $(this)
              .siblings('.slide')
              .css('left', calLeft + 'px');
          }

          // 중복 실행을 막기위한 변수
          isClickEnabled = false;
          // 이미지 동작 및 중복실행 막기
          setTimeout(function () {
            isClickEnabled = true;
          }, 500);
        });

        // 슬라이드 버튼 마우스 오버시 나타내기
        $('.product-one').click(function (e) {
          let productId = $(this).attr('id');
          location.href = `http://localhost:90/CUGGI/product/detail?productId=${productId}`;
        });
        $('.product-one').on('mouseover mouseout', function () {
          $(this).find('p').toggleClass('active');
        });
        // TODO
        $('.product-all-btn').on('click', function () {
          alert('모두 보기 ajax');
        });
      });
    </script>
  </head>

  <body>
    <header>
      <nav>
        <div class="logo">
          <a href="/"><img src="./images/logo/logo.png" alt="" /></a>
        </div>
        <ul class="menu">
          <li>트래블</li>
          <li>핸드백</li>
          <li>지갑</li>
          <li>쥬얼리&시계</li>
          <div class="submenu">
            <span class="close">X</span>
            <div class="subcategory">
              <ul>
                <li>더블백</li>
                <li>캐리어</li>
                <li>하드쉘</li>
              </ul>
              <ul>
                <li>탑 핸들백</li>
                <li>토트백</li>
                <li>숄더백</li>
                <li>크로스백</li>
                <li>미니백</li>
                <li>클러치</li>
              </ul>
              <ul>
                <li>카드 지갑</li>
                <li>반지갑</li>
                <li>장지갑</li>
                <li>체인지갑</li>
              </ul>
              <ul>
                <li>패션 주얼리</li>
                <li>파인 주얼리</li>
                <li>실버 주얼리</li>
                <li>시계</li>
              </ul>
            </div>
          </div>
        </ul>
      </nav>
    </header>

    <main id="product-list">
      <div class="detail-category">
        <div class="detail-category-title">핸드백</div>
        <img
          class="detail-category-img"
          src="https://media.gucci.com/content/HeroRegularStandard_3200x1350/1693406735/HeroRegularStandard_FW-Tier2-Anticipated-Aug23-01_001_Default.jpg"
          alt=""
        />
      </div>
      <div class="detail-filter">
        <div>여성 / 핸드백</div>
        <div>
          <div>카테고리</div>
          <div>라인</div>
          <div>필터</div>
          <div>정렬기준 : 신상품</div>
        </div>
      </div>
      <div class="detail-main">
        <div class="product-one" id="productId">
          <div class="slide">
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1682013604/739682_AABZC_6832_001_058_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1679699727/443497_AABZC_6832_003_100_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1679104803/443497_AABZC_6832_006_100_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1682013603/443497_AABZC_6832_001_063_0000_Light-GG.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1677610806/443497_AABZC_6832_002_063_0000_Light.jpg" alt="" />
          </div>
          <p class="btnPrev"><i class="fa-solid fa-less-than"></i></p>
          <p class="btnNext"><i class="fa-solid fa-greater-than"></i></p>
        </div>
        <div class="product-one">
          <div class="slide">
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1659600047/446744_DTDIT_1000_001_055_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1659600055/446744_DTDIT_1000_003_100_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1659600056/446744_DTDIT_1000_004_100_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1526920205/446744_DTDIT_1000_006_055_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1659600052/446744_DTDIT_1000_002_055_0000_Light.jpg" alt="" />
          </div>
          <p class="btnPrev"><i class="fa-solid fa-less-than"></i></p>
          <p class="btnNext"><i class="fa-solid fa-greater-than"></i></p>
        </div>
        <div class="product-one">
          <div class="slide">
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1682013604/739682_AABZC_6832_001_058_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1679699727/443497_AABZC_6832_003_100_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1679104803/443497_AABZC_6832_006_100_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1682013603/443497_AABZC_6832_001_063_0000_Light-GG.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1677610806/443497_AABZC_6832_002_063_0000_Light.jpg" alt="" />
          </div>
          <p class="btnPrev"><i class="fa-solid fa-less-than"></i></p>
          <p class="btnNext"><i class="fa-solid fa-greater-than"></i></p>
        </div>
        <div class="product-one">
          <div class="slide">
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1682013604/739682_AABZC_6832_001_058_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1679699727/443497_AABZC_6832_003_100_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1679104803/443497_AABZC_6832_006_100_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1682013603/443497_AABZC_6832_001_063_0000_Light-GG.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1677610806/443497_AABZC_6832_002_063_0000_Light.jpg" alt="" />
          </div>
          <p class="btnPrev"><i class="fa-solid fa-less-than"></i></p>
          <p class="btnNext"><i class="fa-solid fa-greater-than"></i></p>
        </div>
        <div class="product-one">
          <div class="slide">
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1682013604/739682_AABZC_6832_001_058_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1679699727/443497_AABZC_6832_003_100_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1679104803/443497_AABZC_6832_006_100_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1682013603/443497_AABZC_6832_001_063_0000_Light-GG.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1677610806/443497_AABZC_6832_002_063_0000_Light.jpg" alt="" />
          </div>
          <p class="btnPrev"><i class="fa-solid fa-less-than"></i></p>
          <p class="btnNext"><i class="fa-solid fa-greater-than"></i></p>
        </div>
        <div class="product-one">
          <div class="slide">
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1682013604/739682_AABZC_6832_001_058_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1679699727/443497_AABZC_6832_003_100_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1679104803/443497_AABZC_6832_006_100_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1682013603/443497_AABZC_6832_001_063_0000_Light-GG.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1677610806/443497_AABZC_6832_002_063_0000_Light.jpg" alt="" />
          </div>
          <p class="btnPrev"><i class="fa-solid fa-less-than"></i></p>
          <p class="btnNext"><i class="fa-solid fa-greater-than"></i></p>
        </div>
        <div class="product-one">
          <div class="slide">
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1682013604/739682_AABZC_6832_001_058_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1679699727/443497_AABZC_6832_003_100_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1679104803/443497_AABZC_6832_006_100_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1682013603/443497_AABZC_6832_001_063_0000_Light-GG.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1677610806/443497_AABZC_6832_002_063_0000_Light.jpg" alt="" />
          </div>
          <p class="btnPrev"><i class="fa-solid fa-less-than"></i></p>
          <p class="btnNext"><i class="fa-solid fa-greater-than"></i></p>
        </div>
        <div class="product-one">
          <div class="slide">
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1682013604/739682_AABZC_6832_001_058_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1679699727/443497_AABZC_6832_003_100_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1679104803/443497_AABZC_6832_006_100_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1682013603/443497_AABZC_6832_001_063_0000_Light-GG.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1677610806/443497_AABZC_6832_002_063_0000_Light.jpg" alt="" />
          </div>
          <p class="btnPrev"><i class="fa-solid fa-less-than"></i></p>
          <p class="btnNext"><i class="fa-solid fa-greater-than"></i></p>
        </div>
        <div class="product-one">
          <div class="slide">
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1682013604/739682_AABZC_6832_001_058_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1679699727/443497_AABZC_6832_003_100_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1679104803/443497_AABZC_6832_006_100_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1682013603/443497_AABZC_6832_001_063_0000_Light-GG.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1677610806/443497_AABZC_6832_002_063_0000_Light.jpg" alt="" />
          </div>
          <p class="btnPrev"><i class="fa-solid fa-less-than"></i></p>
          <p class="btnNext"><i class="fa-solid fa-greater-than"></i></p>
        </div>
        <div class="product-one">
          <div class="slide">
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1682013604/739682_AABZC_6832_001_058_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1679699727/443497_AABZC_6832_003_100_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1679104803/443497_AABZC_6832_006_100_0000_Light.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1682013603/443497_AABZC_6832_001_063_0000_Light-GG.jpg" alt="" />
            <img src="https://media.gucci.com/style/White_South_0_160_316x316/1677610806/443497_AABZC_6832_002_063_0000_Light.jpg" alt="" />
          </div>
          <p class="btnPrev"><i class="fa-solid fa-less-than"></i></p>
          <p class="btnNext"><i class="fa-solid fa-greater-than"></i></p>
        </div>
        <div class="product-all-btn">모두 보기</div>
      </div>
    </main>

    <footer class="common-black-background common-white-font">
      <div>
        <p>구찌 코리아 유한책임회사</p>
        <p>대표자: 실뱅 꼴라델 / 서울시 강남구 영동대로 517, 35층(삼성동, 아셈타워) / 사업자등록번호: 120-81-79834</p>
        <p>통신판매업 신고번호 제 2015-서울강남-00052 호 (사업자 정보 확인)</p>
        <p>개인정보보호책임자: 한소희 / 호스팅 서비스: Rackspace Hosting</p>
      </div>
    </footer>
  </body>
  <script src="./js/script.js"></script>
</html>
